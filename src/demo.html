<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title> Validator </title>
<script src="libs/jquery.js"></script>
<!-- plugin -->
<link rel="stylesheet" href="../jquery.validator.css" />
<script src="jquery.validator.js"></script>
<script src="../local/zh_CN.js"></script>
<style>
    .group {width:100px;}
</style>
</head>

<body>
<div id="error_msg"></div>
<form class="diy_form" style="margin:50px 0 0 250px;">
<p><input type="text" class="group" name="username" id="username" autocomplete="off" data-rule="用户名:username;remote[valid_username.php]" data-tip="请输入email或者手机号"><span class="msg-box n-right" data-for="username" style="display:none;"></span>
</p>

<p><input type="password" class="group" name="password" id="password" data-rule="密码:password" data-tip="6个或更多字符! 要复杂些"></p>
 <br>
<input type="submit">
<input type="reset">
</form>

<script>
$(function(){
    $('form').validator({
        rules: {
            email_or_mobile: function(el){
                return this.test(el, 'email') || this.test(el, 'mobile') || '请输入email或者手机号';
            }/*,
            username: function(el){
                return (this.test(el, 'email'))// return true;
                if(el.value.length === 6) return {ok: '还可以再长一点'};
                if(el.value.length > 6) return {ok: '名字很棒'};
                return false;
            }*/
        },
        valid: function(){
            console.log('callback:valid')
        },
        invalid: function(){
            console.log('callback:invalid')
        },
        //showError: '#error_msg',
        /*groups: [{
            fields: 'username password',
            callback: function($elements){
                var me = this, count = 0;
                $elements.map(function(){
                    if (me.test(this, 'required')) count+=1;
                });
                return count>=1 || '请至少填写一项';
            },
            target: '#password',
            style: 'margin-top:20px;'
        }],
        
        /*setMsg: {
            mobile: "sdgsdgsh"
        },*/
        //msgTheme: 'msg-simple-right msg-icon',
        //showOk: '',
        debug: true,
        msgClass: 'n-bottom',
        //ignore: ':hidden',
        stopOnError: true
        //timely: true
    }).on('valid.form', function(){
        console.log('event:valid')
    });
});
</script>
</body>
</html>